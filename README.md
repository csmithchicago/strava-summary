I like to run and bike. Like many other athletes, I use [Strava](https://www.strava.com) for tracking my workouts. When I run outside, I almost always start a Strava run on my watch and a [Peloton](https://www.onepeloton.com) run on my phone (Strava for metrics & GPS, Peloton for instruction and company), resulting in two activites getting logged. In the past, only the Strava run would count towards the annual distance metric but recently, I noticed this changed, with both activities reporting distance. Thankfully, Strava has a [very well documented API](https://developers.strava.com) which allows full access to recorded activities. In this article, we'll look at how to use the Strava API to de-duplicate these runs as well as compute some additional metrics.

Let's start by thinking about de-duplication. The general idea is to look for 2 or more time-wise overlapping activities, taking the activity with the longest distance and discarding the others. This approach assumes there's a single "longest" encompassing activity (e.g., a Strava run) with other shorter activities (e.g., a Peloton class or two). To implement de-duplication, we'll need a list of activities in a time period, with each activity providing at minimum, a period and a distance.

A quick persual of the [API docs](https://developers.strava.com/docs/reference/#api-Activities-getLoggedInAthleteActivities) shows that a simple `GET /athlete/activities` request returns a list of activities, with each activity providing the data necessary for de-duplication.
